function Config(a,b,c){a.state("about",{url:"/about",templateUrl:"views/about.html"}).state("contact",{url:"/contact",templateUrl:"views/contact.html"}).state("employees",{url:"/employees","abstract":!0,templateUrl:"views/employees/tabs.html"}).state("employees.jobsFeed",{url:"/jobs-feed",views:{"jobs-feed-tab":{controller:"JobsFeedController",templateUrl:"views/employees/jobs-feed.html"}}}),b.otherwise("/employees/jobs-feed"),c.tabs.style("standard"),c.tabs.position("bottom")}function Run(a,b,c,d,e,f,g){b.ready(function(){})}function MainController(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){console.log("MainController")}function JobsUserController(a,b,c,d,e,f,g,h){b.position={},b.setCurrentPosition=function(){return e.ready(function(){return d.getCurrentPosition({timeout:1e4,enableHighAccuracy:!0}).then(function(a){angular.isUndefined(a)||angular.isUndefined(a.coords)||angular.isUndefined(a.coords.latitude)||angular.isUndefined(a.coords.longitude)?b.position={}:(b.position.geo_point_lat=a.coords.latitude,b.position.geo_point_lon=a.coords.longitude)},function(a){b.position={}})})},b.init=function(a){angular.isUndefined(a)&&(a=!1),b.jobs=[],b.loaded=!1,b.error=!1,b.nextCurs="",b.noMoreJobsAvailable=!1,b.position={},b.user.logged&&(a||b.getMyJobs(),b.setCurrentPosition().then(function(){a?b.getMyJobs(!1,!0):angular.isUndefined(b.position.geo_point_lat)||angular.isUndefined(b.position.geo_point_lon)||b.getMyJobs()},function(){a&&b.getMyJobs(!1,!0)}))},b.getMyJobs=function(a,d){angular.isUndefined(a)?a=!1:angular.isUndefined(d)&&(d=!1);var e;a?e=c.getFeed(b.nextCurs,b.position,!0):(d?(b.loaded=!1,b.noMoreJobsAvailable=!1):f.show(),e=c.getFeed(!1,b.position,!0)),e.then(function(c){var e=[];b.nextCurs=c.nextCurs,angular.isUndefined(b.nextCurs)&&(b.noMoreJobsAvailable=!0),angular.forEach(c.jobs,function(a,b){angular.isUndefined(a.employment_status)||"CANCELED"==a.employment_status||"UNLIKED"==a.employment_status||e.push(a)}),a?(b.jobs=b.jobs.concat(e),b.$broadcast("scroll.infiniteScrollComplete")):(b.jobs=e,b.loaded=!0,d||f.hide(),d&&b.$broadcast("scroll.refreshComplete"))},function(c){b.error=!0,a||d?d?b.$broadcast("scroll.refreshComplete"):b.$broadcast("scroll.infiniteScrollComplete"):f.hide()})},b.goToJob=function(a,b){b.preventDefault(),g.go("employees.jobsFeed"),h(function(){g.go("employees.job",{jobId:a})},0)},b.refreshMyJobs=function(){b.init(!0)},b.loginAndRefresh=function(){b.login().then(function(a){a&&b.init()})},a.$on("$stateChangeStart",function(a,c,d,e,f){"employees.jobsUser"==c.name&&b.init()}),b.init()}function JobsSearchController(a,b,c,d,e,f){var g={};a.setCurrentPosition=function(){return d.ready(function(){return c.getCurrentPosition({timeout:1e4,enableHighAccuracy:!0}).then(function(a){angular.isUndefined(a)||angular.isUndefined(a.coords)||angular.isUndefined(a.coords.latitude)||angular.isUndefined(a.coords.longitude)?g={}:(g.geo_point_lat=a.coords.latitude,g.geo_point_lon=a.coords.longitude)},function(a){g={}})})},a.init=function(){g={},a.jobs=[],a.loaded=!1,a.error=!1,a.setCurrentPosition().then(function(){a.getFeed()},function(){a.getFeed()})},a.isSearching=!1,a.searchData={employer_title:"",position:"",address:"",open_query:""},a.$watch("searchData",function(b){a.error=!1;var c=!0;angular.forEach(b,function(a,b){a&&(c=!1)}),c?(a.loaded=!1,a.isSearching=!1):(angular.isUndefined(a.typingTimeout)||f.cancel(a.typingTimeout),a.typingTimeout=f(function(){a.jobs=[],a.loaded=!1,a.noMoreJobsAvailable=!1,a.isSearching=!0,a.init()},500))},!0),a.getFeed=function(c){angular.isUndefined(c)&&(c=!1),angular.isUndefined(g.geo_point_lat)||angular.isUndefined(g.geo_point_lon)?(delete a.searchData.geo_point_lat,delete a.searchData.geo_point_lon):angular.extend(a.searchData,g);var d;d=c?b.getFeed(a.nextCurs,a.searchData):b.getFeed(!1,a.searchData),d.then(function(b){a.nextCurs=b.nextCurs,angular.isUndefined(a.nextCurs)&&(a.noMoreJobsAvailable=!0),c?(a.jobs=a.jobs.concat(b.jobs),a.$broadcast("scroll.infiniteScrollComplete")):(a.jobs=b.jobs,a.loaded=!0)},function(b){a.error=!0,c&&a.$broadcast("scroll.infiniteScrollComplete")})},a.goToJob=function(a,b){b.preventDefault(),e.go("employees.jobsFeed"),f(function(){e.go("employees.job",{jobId:a})},0)}}function JobsFeedController(a,b,c,d,e,f,g,h){a.viewClassName="two-per-row",a.changeView=function(){return console.log("changeView"),a.viewClassName="two-per-row"==a.viewClassName?"":"two-per-row",!1};var i,j;a.showPushNotificationPopup=function(){i=b.show({templateUrl:"views/list/push-popup.html",cssClass:"push-notification",scope:a,buttons:[{text:"שמור",type:"button-positive",onTap:function(a){}}]})},a.closePushNotificationPopup=function(){i.close()},a.showFilterPopup=function(){j=b.show({templateUrl:"views/list/filter-popup.html",cssClass:"list-filter",scope:a,buttons:[{text:"שמור",type:"button-positive",onTap:function(a){}}]})},a.closeFilterPopup=function(){j.close()},c.items=[{name:"tomato",id:122222,topQuality:{wholesale:{price:4.3,percentChange:20},agriculture:{price:4.3,percentChange:20},weeklyAvg:5},primeQuality:{wholesale:{price:4.3,percentChange:20},agriculture:{price:4.3,percentChange:20}}},{name:"cucamber",id:122222,topQuality:{wholesale:{price:4.3,percentChange:20},agriculture:{price:4.3,percentChange:20},weeklyAvg:5},primeQuality:{wholesale:{price:4.3,percentChange:20},agriculture:{price:4.3,percentChange:20}}}]}function JobController(a,b,c,d,e,f,g,h){a.employer=!1,a.job=!1,a.employee=!1,a.init=function(){return a.loaded=!1,a.error=!1,a.getJob()},a.getJob=function(){return f.show(),b.getJob(g.jobId).then(function(b){a.employer=b.employer,a.job=b.job,angular.isUndefined(b.employee.status)?a.employee={}:a.employee=b.employee,angular.isUndefined(a.employer.geo_point_lat)||angular.isUndefined(a.employer.geo_point_lon)||(a.map={center:{latitude:a.employer.geo_point_lat,longitude:a.employer.geo_point_lon},zoom:12},a.marker={id:0,cords:{latitude:a.employer.geo_point_lat,longitude:a.employer.geo_point_lon},options:{labelContent:a.employer.title}}),a.loaded=!0,f.hide()},function(b){a.error=!0,f.hide()})};var i=function(a,b){return d.alert(b,a,"המשך")},j=function(a,b,c){return angular.isUndefined(c)&&(c=["אישור","ביטול"]),d.confirm(b,a,c)};a.applyJob=function(){a.user.logged?(f.show(),b.applyJob(a.job.id).then(function(b){a.employee={id:b.employment_urlsafe_key,status:b.status},f.hide(),e.showShortBottom("הבקשה הוגשה בהצלחה")},function(){f.hide(),i("איראה שגיאה","אירעה שגיאה במהלך הגשת מועמדות למשרה, אנא נסה שנית")})):a.login("apply").then(function(b){b&&a.init().then(function(){(angular.isUndefined(a.employee.status)||"APPLICANT"!=a.employee.status&&"AWAITING_FINAL_APPROVAL"!=a.employee.status&&"EMPLOYEE"!=a.employee.status)&&a.applyJob()})})},a.finalApplyJob=function(){f.show(),b.finalApplyJob(a.employee.id).then(function(b){a.employee={id:b.employment_urlsafe_key,status:b.status},f.hide(),e.showShortBottom("אישרת התחלת עבודה במשרה")},function(){f.hide(),i("איראה שגיאה","אירעה שגיאה במהלך אישור התחלת עבודה, אנא נסה שנית")})},a.resignFromJob=function(){j("התפטרות","האם אתה בטוח שאתה רוצה להתפטר ממשרה זו?").then(function(c){1==c&&(f.show(),b.resignFromJob(a.employee.id).then(function(b){a.employee={id:b.employment_urlsafe_key,status:b.status},f.hide(),e.showShortBottom("התפטרת מהמשרה")},function(){f.hide(),i("איראה שגיאה","אירעה שגיאה במהלך התפטרות ממשרה, אנא נסה שנית")}))})},a.cancelApplicationJob=function(){j("ביטול מועמדות למשרה","האם אתה בטוח שאתה רוצה לבטל מועמדות למשרה?").then(function(c){1==c&&(f.show(),b.cancelApplicationJob(a.employee.id).then(function(b){a.employee={id:b.employment_urlsafe_key,status:b.status},f.hide(),e.showShortBottom("הבקשה בוטלה")},function(){f.hide(),i("איראה שגיאה","אירעה שגיאה במהלך ביטול מועמדות למשרה, אנא נסה שנית")}))})},a.likeButtonClick=function(){a.user.logged?angular.isUndefined(a.employee.status)||"UNLIKED"==a.employee.status?a.likeJob():a.dislikeJob():a.login("like").then(function(b){b&&a.init().then(function(){(angular.isUndefined(a.employee.status)||"UNLIKED"==a.employee.status)&&a.likeJob()})})},a.likeJob=function(){f.show(),b.likeJob(a.job.id).then(function(b){a.employee.status="LIKED",f.hide(),e.showShortBottom("הוספת משרה למשרות שלי")},function(){f.hide(),i("איראה שגיאה","אירעה שגיאה במהלך הוספת המשרה למשרות שלי, אנא נסה שנית")})},a.dislikeJob=function(){f.show(),b.dislikeJob(a.job.id).then(function(b){a.employee.status="UNLIKED",f.hide(),e.showShortBottom("הסרת משרה מהמשרות שלי")},function(){i("איראה שגיאה","אירעה שגיאה במהלך מחיקת המשרה מהמשרות שלי, אנא נסה שנית")})},a.shareJob=function(){c.share("היי! דרושים "+a.job.position+" ל- "+a.employer.title+". לחץ כאן כדי להגיש מועמדות",!1,!1,"http://www.jobhop.co.il/jobs/"+a.job.id)},a.openNavigator=function(){e.showShortBottom("פותח אפליקציית ניווט..."),launchnavigator.navigate(a.employer.address+", ישראל","",function(){},function(a){i("איראה שגיאה","אירעה שגיאה במהלך פתיחת אפליקציית הניווט, אנא נסה שנית")})},a.init()}function JobEmployerController(a,b,c,d,e){a.employer=!1,a.employment=!1,a.loaded=!1,a.error=!1,a.init=function(){a.getEmployer().then(function(){""!=e.employmentId&&a.getEmployment()})},a.getEmployer=function(){return d.show(),b.getEmployer(e.employerId).then(function(b){a.employer=b,angular.isUndefined(a.employer.geo_point_lat)||angular.isUndefined(a.employer.geo_point_lon)||(a.map={center:{latitude:a.employer.geo_point_lat,longitude:a.employer.geo_point_lon},zoom:12},a.marker={id:0,cords:{latitude:a.employer.geo_point_lat,longitude:a.employer.geo_point_lon},options:{labelContent:a.employer.title}}),a.loaded=!0,d.hide()},function(b){a.error=!0,d.hide()})},a.getEmployment=function(){return d.show(),b.getEmployment(e.employmentId).then(function(b){a.employment=b,a.loaded=!0,d.hide()},function(b){a.error=!0,d.hide()})},a.openNavigator=function(){c.showShortBottom("פותח אפליקציית ניווט..."),launchnavigator.navigate(a.employer.address+", ישראל","",function(){},function(a){showPopup("איראה שגיאה","אירעה שגיאה במהלך פתיחת אפליקציית הניווט, אנא נסה שנית")})},a.init()}function UserProfileController(a,b){a.profile_video_uri=!1,angular.isUndefined(a.user.profile.profile_video_uri)||(a.profile_video_uri=b.trustAsResourceUrl(a.user.profile.profile_video_uri)),a.$watch("user.profile.profile_video_uri",function(c){angular.isUndefined(c)||""==c?a.profile_video_uri=!1:a.profile_video_uri=b.trustAsResourceUrl(a.user.profile.profile_video_uri)})}function UserProfileEditController(a,b,c,d,e,f,g){a.profileImage={original:a.user.profile.profile_image_uri||"img/no-thumb.gif",data:a.user.profile.profile_image_uri||"img/no-thumb.gif"};var h=angular.copy(a.user.profile);angular.isUndefined(h.birth_date)?h.birth_date=new Date:h.birth_date=new Date(h.birth_date),a.profileEdit={form:"",data:h},console.log(a.profileEdit.data.birth_date),a.enums={genders:[{label:"זכר",value:"MALE"},{label:"נקבה",value:"FEMALE"}]},a.chooseImage=function(){c.getPicture({quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.SAVEDPHOTOALBUM,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:800,targetHeight:800,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0}).then(function(b){a.profileImage.data="data:image/jpeg;base64,"+b})};var i=function(a){return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)};a.minDate=new Date("01/01/1960"),a.maxDate=new Date,a.maxDate.setTime(a.maxDate.valueOf()-31536e7),a.minDate=i(a.minDate),a.maxDate=i(a.maxDate);var j=function(a,b){return d.alert(message,a,"המשך")},k=function(a){return"function"==typeof a.getMonth?a.getUTCFullYear()+"-"+l(a.getUTCMonth()+1)+"-"+l(a.getUTCDate())+"T"+l(a.getUTCHours())+":"+l(a.getUTCMinutes())+":"+l(a.getUTCSeconds())+"Z":a},l=function(a){return 10>a?"0"+a:a};a.submit=function(c){if(angular.isUndefined(c)&&(imageUpload=!1),c){var d=angular.copy(a.profileEdit.data);d.birth_date=k(d.birth_date),b.editUserProfile(d).then(function(){f.hide(),e.showShortBottom("העריכה בוצעה בהצלחה"),g.go("employees.profile")},function(a){f.hide(),j("אירעה שגיאה","אירעה שגיאה בתקשורת עם המערכת")})}else f.show(),a.profileEdit.form.$valid&&(a.profileImage.data!=a.profileImage.original?b.uploadImage(a.profileImage.data).then(function(b){a.profileEdit.data.profile_image_uri=b,a.submit(!0)},function(){j("אירעה שגיאה","אירעה שגיאה בתקשורת עם המערכת")}):a.submit(!0))}}function RegisterController(a,b,c,d,e,f,g,h,i,j){a.profileImage={"default":"img/no-thumb.gif",data:"img/no-thumb.gif"},a.register={form:"",data:{first_name:"",last_name:"",description:"",address:"",phone_number:"",birth_date:new Date,gender:"",profile_image_uri:""}},a.getUserProfileData=function(){f.show({delay:100}),d.api("/me").then(function(b){a.profileImage["default"]="https://graph.facebook.com/"+b.id+"/picture?type=large",a.profileImage.data=a.profileImage["default"],a.register.data.first_name=b.first_name,a.register.data.last_name=b.last_name,angular.isUndefined(b.gender)||"male"!=b.gender&&"female"!=b.gender||(a.register.data.gender=b.gender.toUpperCase()),angular.isUndefined(b.birthday)||(a.register.data.birth_date=new Date(b.birthday)),f.hide()},function(){f.hide()})},a.init=function(){a.getUserProfileData()},a.enums={genders:[{label:"זכר",value:"MALE"},{label:"נקבה",value:"FEMALE"}]},a.chooseImage=function(){c.getPicture({quality:100,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.SAVEDPHOTOALBUM,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:800,targetHeight:800,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!0}).then(function(b){a.profileImage.data="data:image/jpeg;base64,"+b})};var k=function(a){return a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)};a.minDate=new Date("01/01/1960"),a.maxDate=new Date,a.maxDate.setTime(a.maxDate.valueOf()-31536e7),a.minDate=k(a.minDate),a.maxDate=k(a.maxDate);var l=function(a,b){return e.alert(b,a,"המשך")},m=function(a){return"function"==typeof a.getMonth?a.getUTCFullYear()+"-"+n(a.getUTCMonth()+1)+"-"+n(a.getUTCDate())+"T"+n(a.getUTCHours())+":"+n(a.getUTCMinutes())+":"+n(a.getUTCSeconds())+"Z":a},n=function(a){return 10>a?"0"+a:a};a.submit=function(c){if(angular.isUndefined(c)&&(imageUpload=!1),c){var d=angular.copy(a.register.data);d.birth_date=m(d.birth_date),b.register("FACEBOOK",d).then(function(){if(!(angular.isUndefined(g.jobId)||""==g.jobId||angular.isUndefined(g.action)||"apply"!=g.action&&"apply"!=g.action)){var a=g.jobId,c=g.action;h.goBack(-2),"apply"==c?b.applyJob(a).then(function(){f.hide(),l("ההרשמה בוצעה בהצלחה","נרשמת בהצלחה ל-JobHop! הינך מועבר לדף משרות").then(function(){i.go("employees.jobsFeed"),j(function(){i.go("employees.profile",{scrollToVideo:!0})},0)})}):b.likeJob(a).then(function(){f.hide(),l("ההרשמה בוצעה בהצלחה","נרשמת בהצלחה ל-JobHop! הינך מועבר לדף משרות").then(function(){i.go("employees.jobsFeed"),j(function(){i.go("employees.profile",{scrollToVideo:!0})},0)})})}},function(a){f.hide(),409==a.code?l("אימייל תפוס","כתובת אימייל זו תפוסה"):l("אירעה שגיאה","אירעה שגיאה בתקשורת עם המערכת")})}else f.show(),a.register.form.$valid&&(a.profileImage.data!=a.profileImage["default"]?b.uploadImage(a.profileImage.data).then(function(b){a.register.data.profile_image_uri=b,a.submit(!0)},function(){l("אירעה שגיאה","אירעה שגיאה בתקשורת עם המערכת")}):(a.register.data.profile_image_uri=a.profileImage.data,a.submit(!0)))},a.init()}function jobBlock(){return{restrict:"E",scope:{job:"=",link:"=",employer:"=",employee:"="},templateUrl:"views/employees/job-template.html",link:function(a,b,c){}}}function hideTabs(){return{restrict:"A",link:function(a,b,c){a.$root.hideTabs="tabs-item-hide",a.$on("$destroy",function(){a.$root.hideTabs=""})}}}function JobHopAPI(a,b,c,d,e,f,g){var h={},i=function(){for(var a=32,b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",c="",d=a;d>0;--d)c+=b[Math.round(Math.random()*(b.length-1))];return c},j=function(){var a=new Date(c.user.profile.birth_date),b=Date.now()-a.getTime(),d=new Date(b);c.user.profile.age=Math.abs(d.getUTCFullYear()-1970)};h.uploadImage=function(a){var b=f.defer(),c="-------314159265358979323846",d="\r\n--"+c+"\r\n",e="\r\n--"+c+"--",h=a.split(",")[0].split(":")[1].split(";")[0],j=a.split(",")[1],k="user/images/",l={name:k+i(),mimeType:h},m=d+"Content-Type: application/json\r\n\r\n"+angular.toJson(l)+d+"Content-Type: "+h+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+j+e,n="v1",o="jobhopapp.appspot.com",p=g.gapi.client.request({path:"/upload/storage/"+n+"/b/"+o+"/o",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":'multipart/mixed; boundary="'+c+'"'},body:m});return p.execute(function(a){b.resolve("https://storage.googleapis.com/jobhopapp.appspot.com/"+a.name)},function(){b.reject()}),b.promise},h.uploadVideo=function(a){var b="user/videos/"+i(),c="https://www.googleapis.com/",d="storage/v1",f="jobhopapp.appspot.com",g="upload/"+d+"/b/"+f+"/o?uploadType=media&name="+b;return e.upload(c+g,a.fullPath,{mimeType:a.type,fileName:b,headers:{"Accept-Encoding":"gzip","Content-Type":a.type,"Content-Length":a.size}}).then(function(a){var b="https://storage.googleapis.com/jobhopapp.appspot.com/"+angular.fromJson(a.response).name;return b})},h.getCurrentUserProfile=function(){var b={base_message:c.user.baseMessage};return a.execute("jobhopApi","user.get_current_user_profile",b).then(function(a){return delete a.result,a})},h.getCurrentUserProfileKey=function(){var b={base_message:c.user.baseMessage};return a.execute("jobhopApi","user.get_current_user_profile_key",b)},h.createUserProfile=function(b){var d={base_message:c.user.baseMessage};return angular.extend(d,b),a.execute("jobhopApi","user.create_user_profile",d).then(function(a){delete a.result,c.user.profile=b,c.user.profile.id=a.urlsafe_key,j()})},h.editUserProfile=function(b){var d={base_message:c.user.baseMessage,user_message:b,user_urlsafe_key:b.id};return a.execute("jobhopApi","user.update_user",d).then(function(){c.user.profile=b,c.user.profile.id=b.id,j()})},h.updateProfileVideo=function(b){var d={base_message:c.user.baseMessage,user_urlsafe_key:c.user.profile.id,video_uri:b};return a.execute("jobhopApi","user.update_user_video_profile",d).then(function(){c.user.profile.profile_video_uri=b})},h.login=function(b,d,e){var f={auth_type:b,identifier:d.identifier,secret:d.secret},g=a.execute("jobhopApi","signin.sign_in",f);return!angular.isUndefined(e)&&e?g.then(function(a){c.user.baseMessage={auth_type:b,auth_id:a.auth_id,token:a.token}}):g.then(function(a){return c.user.account_key=a.account_key,c.user.baseMessage={auth_type:b,auth_id:a.auth_id,token:a.token},angular.isUndefined(a.complete_user_message)?!1:h.getCurrentUserProfile().then(function(a){return h.getCurrentUserProfileKey().then(function(b){return c.user.profile=a,c.user.profile.id=b.urlsafe_key,c.user.logged=!0,j(),!0},function(a){return c.user.baseMessage={},a})},function(a){return c.user.baseMessage={},a})})},h.register=function(a,b){var d=({auth_type:a,identifier:b.identifier,secret:b.secret},{});return angular.extend(d,b),h.createUserProfile(d).then(function(){c.user.logged=!0,c.user=c.user})},h.logout=function(){return c.user={profile:{},baseMessage:{},logged:!1},d.logout()},h.getFeed=function(d,e,f){var g={njobs:b,fetch_type:"GENERAL",filter_message:{}};return!angular.isUndefined(f)&&f&&(g.fetch_type="ACCOUNT_EMPLOYMENT"),!angular.isUndefined(d)&&d&&(g.curs=d),!angular.isUndefined(e)&&e&&(g.filter_message=e),c.user.logged&&(g.base_message=c.user.baseMessage),a.execute("jobhopApi","feed.fetch",g).then(function(a){var b={nextCurs:a.next_curs,jobs:[]};return angular.forEach(a.feed_entries,function(a,c){var d=a.urlsafe_key;a.id=d,delete d,delete a.urlsafe_key,angular.isUndefined(e.geo_point_lat)||angular.isUndefined(e.geo_point_lon)||angular.isUndefined(a.employer_address_lat)||angular.isUndefined(a.employer_address_lon)?a.distance=-1:a.distance=h.getDistanceFromJob(e,a),b.jobs.push(a)}),b})};var k=function(a){return a*Math.PI/180};return h.getDistanceFromJob=function(a,b){var c=a.geo_point_lat,d=a.geo_point_lon,e=b.employer_address_lat,f=b.employer_address_lon,g=6371,h=c-e,i=k(h),j=d-f,l=k(j),m=Math.sin(i/2)*Math.sin(i/2)+Math.cos(k(e))*Math.cos(k(c))*Math.sin(l/2)*Math.sin(l/2),n=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),o=g*n;return o=Math.round(10*o)/10},h.jobIsExist=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.get_job",d)},h.getJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.get_complete_job",d).then(function(a){var b=a.complete_employer_message,c=a,d={};d.id=b.employer_urlsafe_key,angular.extend(d,b.employer_message);var e={};e.id=c.job_urlsafe_key,angular.extend(e,c.job_message),angular.forEach([{label:"משמרות",value:"SHIFTS"},{label:"משרה חלקית",value:"PART_TIME"},{label:"משרה מלאה",value:"FULL_TIME"}],function(a){a.value==e.type&&(e.type=a.label)});var f={};return angular.isUndefined(c.employee_message)||(f.id=c.employee_message.employment_urlsafe_key,f.status=c.employee_message.status),{employer:d,job:e,employee:f}})},h.getEmployer=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","employer.get_complete_employer",d).then(function(a){var b={};return b.id=a.employer_urlsafe_key,angular.extend(b,a.employer_message),b})},h.getEmployment=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","employee.get_employee",d).then(function(a){var b={id:a.urlsafe_key,statu:a.status};return b})},h.applyJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.apply_to_job",d)},h.applyJobWithVideo=function(b,d){var e={job_key:b,video_message:{type:"PROFILE_VIDEO"}};return angular.isUndefined(d)||(e.video_message={type:"NEW_VIDEO",uri:d}),c.user.logged&&(e.base_message=c.user.baseMessage),a.execute("jobhopApi","job.apply_to_job_with_video",e)},h.finalApplyJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.final_approve_job",d)},h.resignFromJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.resign_from_job",d)},h.cancelApplicationJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.cancel_application",d)},h.likeJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.add_to_my_jobs",d)},h.dislikeJob=function(b){var d={urlsafe_key:b};return c.user.logged&&(d.base_message=c.user.baseMessage),a.execute("jobhopApi","job.remove_from_my_jobs",d)},h}function cut(){return function(a,b,c,d){if(!a)return"";if(c=parseInt(c,10),!c)return a;if(a.length<=c)return a;if(a=a.substr(0,c),b){var e=a.lastIndexOf(" ");-1!=e&&(a=a.substr(0,e))}return a+(d||" …")}}angular.module("jobhop",["ionic","angular-google-gapi","ngCordova","ngStorage","uiGmapgoogle-maps","nl2br","jobhop.controllers","jobhop.directives","jobhop.services","jobhop.filters","jobhop.views"]).config(Config).run(Run),Config.$inject=["$stateProvider","$urlRouterProvider","$ionicConfigProvider"],Run.$inject=["$rootScope","$ionicPlatform","GApi","GAuth","JobHopAPI","$window","$state"],angular.module("jobhop.controllers",[]),angular.module("jobhop.controllers").controller("MainController",MainController),MainController.$inject=["$rootScope","$scope","JobHopAPI","$ionicModal","$ionicLoading","$state","$cordovaEmailComposer","$cordovaDialogs","$cordovaToast","$cordovaSocialSharing","$cordovaInAppBrowser","$cordovaFacebook","$localStorage","$stateParams","$timeout","$cordovaCapture"],angular.module("jobhop.controllers").controller("JobsUserController",JobsUserController),JobsUserController.$inject=["$rootScope","$scope","JobHopAPI","$cordovaGeolocation","$ionicPlatform","$ionicLoading","$state","$timeout"],angular.module("jobhop.controllers").controller("JobsSearchController",JobsSearchController),JobsSearchController.$inject=["$scope","JobHopAPI","$cordovaGeolocation","$ionicPlatform","$state","$timeout"],angular.module("jobhop.controllers").controller("JobsFeedController",JobsFeedController),JobsFeedController.$inject=["$rootScope","$ionicPopup","$scope","$ionicModal","JobHopAPI","$cordovaGeolocation","$ionicPlatform","$ionicLoading"],angular.module("jobhop.controllers").controller("JobController",JobController),JobController.$inject=["$scope","JobHopAPI","$cordovaSocialSharing","$cordovaDialogs","$cordovaToast","$ionicLoading","$stateParams","$state"],angular.module("jobhop.controllers").controller("JobEmployerController",JobEmployerController),JobEmployerController.$inject=["$scope","JobHopAPI","$cordovaToast","$ionicLoading","$stateParams"],angular.module("jobhop.controllers").controller("UserProfileController",UserProfileController),UserProfileController.$inject=["$scope","$sce"],angular.module("jobhop.controllers").controller("UserProfileEditController",UserProfileEditController),UserProfileEditController.$inject=["$scope","JobHopAPI","$cordovaCamera","$cordovaDialogs","$cordovaToast","$ionicLoading","$state"],angular.module("jobhop.controllers").controller("RegisterController",RegisterController),RegisterController.$inject=["$scope","JobHopAPI","$cordovaCamera","$cordovaFacebook","$cordovaDialogs","$ionicLoading","$stateParams","$ionicHistory","$state","$timeout"],angular.module("jobhop.directives",[]),angular.module("jobhop.directives").directive("jobBlock",jobBlock),jobBlock.$inject=[],angular.module("jobhop.directives").directive("hideTabs",hideTabs),hideTabs.$inject=[],angular.module("jobhop.services",[]),angular.module("jobhop.services").factory("JobHopAPI",JobHopAPI).constant("JobsPerPage",15),JobHopAPI.$inject=["GApi","JobsPerPage","$localStorage","$cordovaFacebook","$cordovaFileTransfer","$q","$window"],angular.module("jobhop.filters",[]),angular.module("jobhop.filters").filter("cut",cut),cut.$inject=[],angular.module("jobhop.views",[]),angular.module("jobhop.views").run(["$templateCache",function(a){"use strict";a.put("www/views/about.html",'<ion-view>\r\n    <ion-content>\r\n        <div class="bordered">\r\n            <h2 style="padding: 0 16px;">אודות החברה</h2>\r\n            <p>לורם איפסום או בקיצור ליפסום (בלטינית: lorem ipsum) הוא מלל מקובל וחסר משמעות המשמש "ממלא מקום" בעת עריכה, בתחום הדפוס, ההדפסה והפרסום.</p>\r\n            <p>הטקסט משמש כלי לייצוג דפוס שאמור להתווסף למוצר הפרסום בעתיד. המדובר במלל ארוך במיוחד שניתן לבדוק עמו גופנים, וכן התאמת המלל לעמודים המעוצבים ובדיקת סוגי וגדלי גופן והתאמתם למוצר הסופי.</p>\r\n            <p>בשל הדמיון של המילים בלורם איפסום ללטינית קלאסית, רבים חושבים שיש משמעות לטקסט, אולם לא נועדה להיות לו כל משמעות. המטרה היא רק "תפיסת מקום" על ידי מלל חסר משמעות (ראו דוגמה בהמשך).</p>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>\r\n'),a.put("www/views/auth/login.html",'<ion-view title="התחברות">\n    <ion-content padding="true">\n        <!--\n        <form name="login.form" ng-submit="login()" novalidate>\n            <ion-list>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': login.form.identifier.$invalid && login.form.identifier.$dirty }">\n                    <label>\n                        <span class="input-label">אימייל</span>\n                        <input type="email" ng-model="login.data.identifier" name="identifier" placeholder="example@site.com" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': login.form.secret.$invalid && login.form.secret.$dirty }">\n                    <label>\n                        <span class="input-label">סיסמא</span>\n                        <input type="password" ng-model="login.data.secret" name="secret" placeholder="Gf/vj[5w" ng-minlength="6" required>\n                    </label>\n                </ion-item>\n            </ion-list>\n            <button class="button button-balanced button-block icon-left ion-chevron-left" ng-disabled="login.form.$invalid">\n                התחבר\n            </button>\n            <div class="text-center">\n                או\n            </div>\n        </form>\n        -->\n        <button class="button button-positive button-block icon-right ion-social-facebook" ng-click="login()">\n            התחבר באמצעות פייסבוק\n        </button>\n    </ion-content>\n</ion-view>\n'),a.put("www/views/auth/register.html",'<ion-view title="הרשמה">\n    <ion-content padding="true">\n        <form name="register.form" ng-submit="submit()" novalidate>\n            <div id="register-upload-image" class="text-center">\n                <label>\n                    <img ng-src="{{ profileImage.data }}" on-tap="chooseImage()">\n                </label>\n            </div>\n            <ion-list>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.first_name.$invalid && register.form.first_name.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            שם פרטי\n                        </span>\n                        <input type="text" ng-model="register.data.first_name" name="first_name" placeholder="ישראל" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.last_name.$invalid && register.form.last_name.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            שם משפחה\n                        </span>\n                        <input type="text" ng-model="register.data.last_name" name="last_name" placeholder="ישראלי" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.description.$invalid && register.form.description.$dirty }">\n                    <label>\n                        <span class="input-label">תיאור</span>\n                        <textarea ng-model="register.data.description" name="description"\n placeholder="פה זה המקום לרשום כמה שורות על עצמך.\nמעסיקים רוצים לדעת איזה מן בנאדם אתה, איפה יצא לך לעבוד כבר, איך אתה מתנייד, ומה היתרונות שלך." style="height:60px" required></textarea>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.phone_number.$invalid && register.form.phone_number.$dirty }">\n                    <label>\n                        <span class="input-label">מספר פלאפון</span>\n                        <input type="text" ng-model="register.data.phone_number" name="phone_number" placeholder="050-1234567" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.address.$invalid && register.form.address.$dirty }">\n                    <label>\n                        <span class="input-label">עיר מגורים</span>\n                        <input type="text" ng-model="register.data.address" name="address" placeholder="תל אביב" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-select item-select-rtl"\n                    ng-class="{ \'form-input-invalid\': register.form.gender.$invalid && register.form.gender.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            מין\n                        </span>\n                        <select ng-model="register.data.gender" name="gender" ng-options="gender.value as gender.label for gender in enums.genders" required></select>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': register.form.birth_date.$invalid && register.form.birth_date.$dirty }">\n                    <label>\n                        <span class="input-label">תאריך לידה</span>\n                        <input type="date" ng-model="register.data.birth_date" name="birth_date" min="{{ minDate }}" max="{{ maxDate }}" placeholder="תאריך לידה" required>\n                    </label>\n                </ion-item>\n            </ion-list>\n            <small class="assertive">* כל השדות חובה. אין הרבה גם ככה :)</small>\n            <button class="button button-positive button-block icon-right ion-social-facebook" ng-disabled="register.form.$invalid">\n                התחבר באמצעות פייסבוק\n            </button>\n        </form>\n    </ion-content>\n</ion-view>\n'),
a.put("www/views/contact.html",'<ion-view style="text-align: center">\r\n    <ion-content>\r\n        <h2>צור קשר</h2>\r\n        <div class="bordered contact">\r\n            <img src="/img/tozeret.png" />\r\n            <p style="font-size: 16px">\r\n    חברת השוק הסיטונאי בע"מ<br />\r\n                אפעל 35, פתח תקווה\r\n            </p>\r\n            <p>מייל: <span style="font-size:13px; white-space: nowrap">contact@israeli-market.org.il</span>\r\n            <br />\r\n            אתר: <span style="font-size:13px; white-space: nowrap">www.israeli-market.gov.il</span></p>\r\n        </div>\r\n    </ion-content>\r\n</ion-view>'),a.put("www/views/employees/job-employer.html",'<ion-view ng-attr-title="{{ employer.title || \'סניף\' }}">\n    <ion-nav-title><span ng-if="loaded" ng-bind="employer.title"></span></ion-nav-title>\n    <ion-content padding="false">\n      <div ng-if="loaded && !error">\n        <div class="job" ng-style="{ \'background-color\': employer.backgroundColor }">\n            <div class="job-profile-image">\n                <img ng-src="{{ employer.profile_image_uri }}">\n            </div>\n            <div class="job-data">\n                <div class="job-employer-name" ng-bind="employer.title"></div>\n                <div class="job-position" ng-bind="employer.address"></div>\n            </div>\n        </div>\n\n        <div class="clearfix"></div>\n\n        <div id="job" class="padding">\n            <p id="employer-description" ng-bind="employer.description" style="margin-top: 10px;"></p>\n            <hr>\n            <div id="job-more-details">\n                <div id="job-more-details-header">מידע נוסף על הסניף</div>\n                <hr>\n                <div>\n                  <div class="icon">\n                      <i class="icon ion-ios-location-outline"></i>\n                  </div>\n                  <div>\n                      <strong>מיקום:</strong>\n                      <span ng-bind="employer.address"></span>\n                  </div>\n                  <div class="clearfix"></div>\n                </div>\n                <div ng-show="employment && employment.status == \'EMPLOYEE\' && employment.status == \'AWAITING_FINAL_APPROVAL\'">\n                    <div class="icon">\n                        <i class="icon ion-ios-telephone-outline"></i>\n                    </div>\n                    <div>\n                        <strong>מספר פלאפון:</strong>\n                        <span ng-bind="employer.phone_number"></span>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n            </div>\n            <div id="job-location" ng-if="map.center.latitude && map.center.longitude">\n              <hr>\n              <div id="job-location-header">מיקום הסניף</div>\n              <hr>\n              <div>\n                  <ui-gmap-google-map center=\'map.center\' zoom=\'map.zoom\'>\n                      <ui-gmap-marker coords="marker.cords" options="marker.options" idKey="marker.id"></ui-gmap-marker>\n                  </ui-gmap-google-map>\n              </div>\n            </div>\n            <div class="text-center">\n                <button class="button button-balanced icon ion-android-navigate" on-tap="openNavigator()">\n                    נווט למקום\n                </button>\n            </div>\n        </div>\n\n        <div class="clearfix"></div>\n      </div>\n      <div ng-show="error" class="padding">\n          קיימת תקלה טכנית, אנא נסה שנית\n      </div>\n    </ion-cotent>\n</ion-view>\n'),a.put("www/views/employees/job-template.html",'<a ui-sref="employees.job({ jobId: job.id })" class="job" ng-class="\'job-background-\' + job.index % 4" ng-if="link">\n    <div class="job-employment-status" ng-if="job.employment_status">\n        <strong ng-if="job.employment_status == \'APPLICANT\'">הינך מועמד למשרה</strong>\n        <strong ng-if="job.employment_status == \'AWAITING_FINAL_APPROVAL\'">המעסיק אישר את מועמדותך, היכנס כדי לאשר</strong>\n        <strong ng-if="job.employment_status == \'EMPLOYEE\'">הינך מועסק במשרה זו</strong>\n        <strong ng-if="job.employment_status == \'FINISHED_JOB\'">סיימת את עבודתך במשרה זו</strong>\n        <strong ng-if="job.employment_status == \'FIRED\'">פוטרת ממשרה זו</strong>\n        <strong ng-if="job.employment_status == \'CANCELED\'">ביטלת את המועמדות למשרה</strong>\n        <strong ng-if="job.employment_status == \'LIKED\'">עשית לייק למשרה זו</strong>\n    </div>\n    <div class="job-profile-image">\n        <img image-lazy-src="{{ job.logo_url }}">\n    </div>\n    <div class="job-data">\n        <p class="job-employer-name" ng-bind="job.employer_name"></p>\n        <p class="job-position" ng-bind="job.position"></p>\n        <p class="job-description" ng-bind="job.description | cut: true: 100"></p>\n    </div>\n    <div class="job-address">\n        <i class="icon ion-ios-location-outline"></i>\n        <address ng-bind="job.employer_address" ng-class="{ \'full-width\': job.distance == -1 }"></address>\n        <i class="icon ion-ios-navigate-outline" ng-if="job.distance != -1"></i>\n        <span ng-bind-template=\'{{ job.distance }} ק"מ ממך\' ng-if="job.distance != -1"></span>\n    </div>\n</a>\n\n<div class="job" ng-if="!link">\n    <div class="job-profile-image">\n        <a ui-sref="employees.jobEmployer({ jobId: job.id, employerId: employer.id, employmentId: employee.id || \'\' })" ng-if="job">\n            <img ng-src="{{ employer.profile_image_uri }}">\n        </a>\n    </div>\n    <div class="job-data">\n        <div class="job-employer-name" ng-bind="employer.title"></div>\n        <div class="job-position" ng-bind="job.position"></div>\n    </div>\n</div>\n\n<div class="clearfix"></div>\n'),a.put("www/views/employees/job.html",'<ion-view ng-attr-title="{{ job.position || \'משרה\' }}">\n    <ion-nav-title><span ng-if="loaded" ng-bind="job.position"></span></ion-nav-title>\n    <ion-content padding="false">\n        <div ng-if="loaded && !error">\n          <job-block employer="employer" job="job" employee="employee" link="false"></job-block>\n          <div id="job" class="padding">\n              <p id="job-description" ng-bind="job.description"></p>\n              <div id="employment-status" class="balanced">\n                  <p ng-if="employee.status == \'APPLICANT\'">\n                      הינך מועמד למשרה\n                  </p>\n                  <p ng-if="employee.status == \'AWAITING_FINAL_APPROVAL\'">\n                      המעסיק אישר את מועמדותך, כעת הינך יכול לאשר התחלת עבודה\n                  </p>\n                  <p ng-if="employee.status == \'EMPLOYEE\'">\n                      הינך מועסק במשרה זו\n                  </p>\n                  <p ng-if="employee.status == \'FINISHED_JOB\'">\n                      סיימת את עבודתך במשרה זו\n                  </p>\n                  <p ng-if="employee.status == \'FIRED\'">\n                      פוטרת ממשרה זו\n                  </p>\n                  <p ng-if="employee.status == \'CANCELED\'">\n                      ביטלת את המועמדות למשרה\n                  </p>\n              </div>\n              <div id="job-buttons">\n                  <button class="button button-balanced" ng-click="applyJob()"\n                        ng-if="!employee.status || (employee.status != \'APPLICANT\' && employee.status != \'AWAITING_FINAL_APPROVAL\' && employee.status != \'EMPLOYEE\')">\n                      <i class="icon ion-paper-airplane"></i>\n                      הגש בקשה\n                  </button>\n                  <button class="button button-balanced" ng-click="finalApplyJob()"\n                        ng-if="employee.status == \'AWAITING_FINAL_APPROVAL\'">\n                      <i class="icon ion-ios-checkmark"></i>\n                      התחלת עבודה\n                  </button>\n                  <button class="button button-balanced" ng-click="resignFromJob()"\n                        ng-if="employee.status == \'EMPLOYEE\'">\n                      <i class="icon ion-ios-close"></i>\n                      התפטר\n                  </button>\n                  <button class="button button-balanced" ng-click="cancelApplicationJob()"\n                        ng-if="employee.status == \'APPLICANT\'">\n                      <i class="icon ion-ios-close"></i>\n                      בטל מועמדות\n                  </button>\n                  <button class="button button-assertive" ng-click="cancelApplicationJob()"\n                        ng-if="employee.status == \'AWAITING_FINAL_APPROVAL\'">\n                      <i class="icon ion-ios-close"></i>\n                      ביטול\n                  </button>\n                  <button id="job-share" class="button button-icon button-clear" on-tap="shareJob()">\n                      <i class="icon ion-android-share-alt balanced"></i>\n                  </button>\n                  <button id="job-like" class="button button-icon button-clear" ng-click="likeButtonClick()"\n                        ng-if="!employee.status || employee.status == \'LIKED\' || employee.status == \'UNLIKED\'">\n                      <i class="icon balanced" ng-class="{\n                          \'ion-android-favorite\': employee.status == \'LIKED\',\n                          \'ion-android-favorite-outline\': !employee.status || employee.status == \'UNLIKED\' }"></i>\n                  </button>\n              </div>\n              <hr>\n              <p id="employer-description" ng-bind="employer.description"></p>\n              <hr>\n              <div id="job-more-details">\n                  <div id="job-more-details-header">מידע נוסף על המשרה</div>\n                  <hr>\n                  <div>\n                      <div class="icon">\n                          <i class="icon ion-ios-location-outline"></i>\n                      </div>\n                      <div>\n                          <strong>מיקום:</strong>\n                          <span ng-bind="employer.address"></span>\n                      </div>\n                      <div class="clearfix"></div>\n                  </div>\n                  <div>\n                      <div class="icon">\n                          <i class="icon ion-ios-clock-outline"></i>\n                      </div>\n                      <div>\n                          <strong>\n                            עבודה ב<span ng-bind="job.type"></span>\n                          </strong>\n                      </div>\n                      <div class="clearfix"></div>\n                  </div>\n              </div>\n              <div id="job-requirements" ng-if="job.requirements_general || (job.requirements_age_min || job.requirements_age_max)">\n                  <hr>\n                  <div id="job-requirements-header">דרישות המשרה</div>\n                  <div>\n                    <hr>\n                    <div ng-if="job.requirements_general">\n                        <div class="icon">\n                            <i class="icon ion-ios-list-outline"></i>\n                        </div>\n                        <div>\n                            <strong>ניסיון:</strong>\n                            <span ng-bind="job.requirements_general"></span>\n                        </div>\n                        <div class="clearfix"></div>\n                    </div>\n                    <div ng-if="job.requirements_age_min || job.requirements_age_max">\n                        <div class="icon">\n                            <i class="icon ion-ios-calendar-outline"></i>\n                        </div>\n                        <div>\n                            <strong>גיל:</strong>\n                            <span ng-bind-template="{{ job.requirements_age_min }} - {{ job.requirements_age_max }}" ng-if="job.requirements_age_min && job.requirements_age_max"></span>\n                            <span ng-bind-template="מ-{{ job.requirements_age_min }}" ng-if="job.requirements_age_min && !job.requirements_age_max"></span>\n                            <span ng-bind-template="עד {{ job.requirements_age_max }}" ng-if="job.requirements_age_max && !job.requirements_age_min"></span>\n                        </div>\n                        <div class="clearfix"></div>\n                    </div>\n                  </div>\n              </div>\n              <div id="job-location" ng-if="map.center.latitude && map.center.longitude">\n                <hr>\n                <div id="job-location-header">מיקום הסניף</div>\n                <hr>\n                <div>\n                    <ui-gmap-google-map center=\'map.center\' zoom=\'map.zoom\'>\n                        <ui-gmap-marker coords="marker.cords" options="marker.options" idKey="marker.id"></ui-gmap-marker>\n                    </ui-gmap-google-map>\n                </div>\n              </div>\n              <div class="text-center">\n                  <button class="button button-balanced icon ion-android-navigate" on-tap="openNavigator()">\n                      נווט למקום\n                  </button>\n              </div>\n          </div>\n        </div>\n        <div ng-show="error" class="padding">\n            קיימת תקלה טכנית, אנא נסה שנית\n        </div>\n    </ion-cotent>\n</ion-view>\n'),a.put("www/views/employees/jobs-feed.html",'<ion-view>\n    <ion-content scroll="true" padding="false" class="has-footer">\n        <div class="list-container" ng-class="viewClassName">\n\n            <div class="fruit-wrapper" ng-repeat="item in items">\n                <div class="fruit-item">\n                    <div class="image">\n                        <img src="http://localhost:8100/img/logo.png" alt="">\n                    </div>\n                    <h4>{{item.name}}</h4>\n                    <div class="price">\n                        <table>\n                            <tr><td>מחיר סוג א\'</td><td>3.00 ש"ח</td></tr>\n                            <tr><td>מחיר מובחר</td><td>3.00 ש"ח</td></tr>\n                        </table>\n                    </div>\n                    <div class="buttons">\n                        <img src="/img/item-push.png" style="float:right;" ng-click="showPushNotificationPopup()">\n                        <img src="/img/item-share.png" style="float:left;">\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </ion-content>\n</ion-view>'),a.put("www/views/employees/jobs-search.html",'<ion-view title="חיפוש משרות">\n    <ion-content lazy-scroll>\n        <div id="search-list" class="list">\n            <label class="item item-input">\n                <span class="input-label">שם בית העסק</span>\n                <input type="text" ng-model="searchData.employer_title">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">תפקיד</span>\n                <input type="text" ng-model="searchData.position">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">כתובת</span>\n                <input type="text" ng-model="searchData.address">\n            </label>\n            <label class="item item-input">\n                <span class="input-label">טקסט חופשי</span>\n                <input type="text" ng-model="searchData.open_query">\n            </label>\n        </div>\n        <div id="feed">\n            <div class="padding text-center" ng-if="!loaded && isSearching && !error">\n              <ion-spinner></ion-spinner>\n            </div>\n            <ion-list class="jobs-list" ng-if="loaded && !error">\n                <ion-item ng-repeat="job in jobs" ng-init="job.index = $index">\n                    <job-block job="job" link="true" on-tap="goToJob(job.id, $event)"></job-block>\n                </ion-item>\n            </ion-list>\n            <ion-infinite-scroll ng-if="!noMoreJobsAvailable && loaded && !error" on-infinite="getFeed(true)" distance="10%"></ion-infinite-scroll>\n            <div ng-show="loaded && !jobs.length && !error" class="padding">\n                לא נמצאו משרות\n            </div>\n            <div ng-show="error" class="padding">\n                קיימת תקלה טכנית, אנא נסה שנית\n            </div>\n        </div>\n    </ion-cotent>\n</ion-view>\n'),a.put("www/views/employees/jobs-user.html",'<ion-view title="המשרות שלי">\n    <ion-content padding="false" lazy-scroll>\n        <div id="feed" ng-if="user.logged">\n            <ion-refresher\n              on-refresh="refreshMyJobs()">\n            </ion-refresher>\n            <ion-list class="jobs-list" ng-if="loaded && jobs.length && !error">\n                <ion-item ng-repeat="job in jobs" ng-init="job.index = $index">\n                    <job-block job="job" link="true" on-tap="goToJob(job.id, $event)"></job-block>\n                </ion-item>\n            </ion-list>\n            <ion-infinite-scroll ng-if="loaded && !noMoreJobsAvailable && !error" on-infinite="getMyJobs(true)" distance="10%"></ion-infinite-scroll>\n            <div ng-show="loaded && !jobs.length && !error" class="padding">\n                לא נמצאו משרות\n            </div>\n            <div ng-show="error" class="padding">\n                קיימת תקלה טכנית, אנא נסה שנית\n            </div>\n        </div>\n        <div ng-show="!user.logged" class="padding">\n            <p>\n                אינך משתמש רשום ולכן אין לך משרות\n            </p>\n            <p>\n                <div class=\'divs-middle\'>\n                    <button class="button button-balanced icon-right ion-log-in" on-tap="loginAndRefresh()">התחבר למערכת</button>\n                </div>\n            </p>\n        </div>\n    </ion-content>\n</ion-view>\n'),a.put("www/views/employees/notifications-modal.html",'<ion-modal-view>\n    <ion-header-bar class="bar-balanced" align-title="{{ android ? \'right\' : \'center\' }}">\n        <h1 class="title">התראות</h1>\n        <div class="buttons">\n            <button class="button button-icon button-clear ion-close-circled" ng-click="closeNotifications()"></button>\n        </div>\n    </ion-header-bar>\n    <ion-content class="padding">\n        אהלן\n    </ion-content>\n</ion-modal-view>\n'),a.put("www/views/employees/tabs.html",'<ion-view>\r\n    <ion-nav-view name="jobs-feed-tab"></ion-nav-view>\r\n    <ion-tabs class="tabs-balanced tabs-icon-top" ng-class="hideTabs">\r\n        <ion-tab title="גרפים" icon-on="graph" icon-off="graph" href="#/employees/jobs-search"></ion-tab>\r\n        <ion-tab title="מחיר חקלאי" icon-on="farmer" icon-off="farmer" href="#/employees/jobs-user"></ion-tab>\r\n        <ion-tab title="מחיר סיטונאי" icon-on="buyer" icon-off="buyer" href="#/employees/jobs-feed"></ion-tab>\r\n    </ion-tabs>\r\n</ion-view>\r\n'),a.put("www/views/employees/user-profile-edit.html",'<ion-view title="עריכת פרופיל">\n    <ion-content padding="true">\n        <form name="profileEdit.form" ng-submit="submit()" novalidate>\n            <div id="register-upload-image">\n                <img ng-src="{{ profileImage.data }}" on-tap="chooseImage()">\n            </div>\n            <ion-list>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.first_name.$invalid && profileEdit.form.first_name.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            שם פרטי\n                        </span>\n                        <input type="text" ng-model="profileEdit.data.first_name" name="first_name" placeholder="ישראל" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.last_name.$invalid && profileEdit.form.last_name.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            שם משפחה\n                        </span>\n                        <input type="text" ng-model="profileEdit.data.last_name" name="last_name" placeholder="ישראלי" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.description.$invalid && profileEdit.form.description.$dirty }">\n                    <label>\n                        <span class="input-label">תיאור</span>\n                        <textarea ng-model="profileEdit.data.description" name="description"\n placeholder="פה זה המקום לרשום כמה שורות על עצמך.\nמעסיקים רוצים לדעת איזה מן בנאדם אתה, איפה יצא לך לעבוד כבר, איך אתה מתנייד, ומה היתרונות שלך." style="height:60px" required></textarea>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.phone_number.$invalid && profileEdit.form.phone_number.$dirty }">\n                    <label>\n                        <span class="input-label">מספר פלאפון</span>\n                        <input type="text" ng-model="profileEdit.data.phone_number" name="phone_number" placeholder="050-1234567" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.address.$invalid && profileEdit.form.address.$dirty }">\n                    <label>\n                        <span class="input-label">עיר מגורים</span>\n                        <input type="text" ng-model="profileEdit.data.address" name="address" placeholder="תל אביב" required>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-select item-select-rtl"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.gender.$invalid && profileEdit.form.gender.$dirty }">\n                    <label>\n                        <span class="input-label">\n                            מין\n                        </span>\n                        <select ng-model="profileEdit.data.gender" name="gender" ng-options="gender.value as gender.label for gender in enums.genders" required></select>\n                    </label>\n                </ion-item>\n                <ion-item class="item-input item-stacked-label"\n                    ng-class="{ \'form-input-invalid\': profileEdit.form.birth_date.$invalid && profileEdit.form.birth_date.$dirty }">\n                    <label>\n                        <span class="input-label">תאריך לידה</span>\n                        <input type="date" ng-model="profileEdit.data.birth_date" name="birth_date" min="{{ minDate }}" max="{{ maxDate }}" placeholder="תאריך לידה" required>\n                    </label>\n                </ion-item>\n            </ion-list>\n            <small class="assertive">* כל השדות חובה. אין הרבה גם ככה :)</small>\n            <button class="button button-balanced button-block icon-left ion-chevron-left" ng-disabled="profileEdit.form.$invalid">\n                עדכן\n            </button>\n        </form>\n    </ion-content>\n</ion-view>\n'),a.put("www/views/employees/user-profile.html",'<ion-view title="פרופיל" hide-tabs>\n    <ion-content padding="true" overflow-scroll="true">\n        <div id="profile">\n            <div id="profile-image">\n                <img ng-src="{{ user.profile.profile_image_uri }}" ng-if="user.profile.profile_image_uri">\n                <img src="img/jobhop-icon.png" class="image-not-rounded" ng-if="!user.profile.profile_image_uri">\n            </div>\n            <div id="profile-name" ng-bind-template="{{ user.profile.first_name }} {{ user.profile.last_name }}"></div>\n            <div id="profile-details">\n                <span ng-if="user.profile.birth_date">\n                    <span ng-bind="user.profile.gender == \'MALE\' ? \'בן\' : \'בת\'"></span>\n                    <span ng-bind="user.profile.age"></span>\n                </span\n                ><span ng-if="user.profile.address">,\n                    <span ng-bind="user.profile.address"></span>\n                </span>\n            </div>\n            <hr>\n            <div>\n                <div class="profile-header">קצת על עצמי</div>\n                <hr>\n                <p id="profile-about-me" ng-bind-html="user.profile.description | nl2br" ng-if="user.profile.description"></p>\n                <strong ng-if="!user.profile.description">לא צוין מידע</strong>\n            </div>\n            <hr>\n            <div>\n                <div class="profile-header">סרטון פרופיל</div>\n                <hr>\n                <div data-tap-disable="true" ng-if="profile_video_uri">\n                    <video ng-src="{{ profile_video_uri }}" poster="img/no-profile-video.jpg" controls></video>\n                </div>\n                <div ng-if="!profile_video_uri">\n                    <div id="no-profile-video" on-tap="uploadProfileVideo()">\n                        <img src="img/no-profile-video.jpg" id="visible">\n                        <img src="img/no-profile-video.jpg" id="invisible">\n                        <div>\n                            <i class="icon ion-videocamera"></i><br>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <hr ng-hide="true">\n            <div ng-hide="true">\n                <div class="profile-header">ניסיון תעסוקתי</div>\n                <hr>\n                <div id="profile-experience">\n                    <div>\n                        <div class="profile-experience-timeline">2015</div>\n                        <div class="profile-experience-description">ראש ממשלת ישראל</div>\n                    </div>\n                    <div>\n                        <div class="profile-experience-timeline">2010-2014</div>\n                        <div class="profile-experience-description">נשיא בית המשפט העליון</div>\n                    </div>\n                    <div>\n                        <div class="profile-experience-timeline">2005-2009</div>\n                        <div class="profile-experience-description">מנכ"ל בנק הפועלים</div>\n                    </div>\n                    <div>\n                        <div class="profile-experience-timeline">2003</div>\n                        <div class="profile-experience-description">צייר</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </ion-content>\n</ion-view>\n'),a.put("www/views/list/filter-popup.html",'<div>\r\n    <img src="img/icon/x.png" class="close" ng-click="closeFilterPopup()" />\r\n    <div class="row">\r\n        <div class="col">\r\n            <span class="title">סינון</span>\r\n            <label>\r\n                <input type="radio" name="search-by-type" checked="checked">\r\n                <span class="style"></span>\r\n                ירקות ופירות\r\n            </label>\r\n            <label>\r\n                <input type="radio" name="search-by-type">\r\n                <span class="style"></span>\r\n                ירקות בלבד\r\n            </label>\r\n            <label>\r\n                <input type="radio" name="search-by-type">\r\n                <span class="style"></span>\r\n                פירות בלבד\r\n            </label>\r\n        </div>\r\n        <div class="col">\r\n            <span class="title">חיפוש לפי שם המוצר</span>\r\n            <input type="text" id="search-by-name" />\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <div class="row">\r\n        <div class="col">\r\n            <span class="title">מיון</span>\r\n            <label>\r\n                <input type="radio" name="order-by" checked="checked">\r\n                <span class="style"></span>\r\n                אחוז שינוי יומי\r\n            </label>\r\n            <label>\r\n                <input type="radio" name="order-by">\r\n                <span class="style"></span>\r\n                א\'-ב\'\r\n            </label>\r\n            <label>\r\n                <input type="radio" name="order-by">\r\n                <span class="style"></span>\r\n                מחיר\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),a.put("www/views/list/push-popup.html",'<div>\r\n    <img src="img/icon/x.png" class="close" ng-click="closePushNotificationPopup()" />\r\n    <div class="row">\r\n        <div class="col">\r\n            <span class="title">הודעת פוש</span>\r\n            <p>\r\n                <label>\r\n                    <input type="checkbox" style="width:auto;" />\r\n                    <span class="style"></span>\r\n                </label>\r\n                אפשר הודעות פוש עבור המוצר\r\n                אפשר הודעות פוש עבור המוצר\r\n                <b>ברוקולי</b>\r\n                כשאר המחיר משתנה ב\r\n                <select name="" id="">\r\n                    <option value="10">10%</option>\r\n                    <option value="20">20%</option>\r\n                    <option value="30">30%</option>\r\n                    <option value="40">40%</option>\r\n                    <option value="50">50%</option>\r\n                    <option value="60">60%</option>\r\n                    <option value="70">70%</option>\r\n                    <option value="80">80%</option>\r\n                    <option value="90">90%</option>\r\n                </select>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</div>\r\n')}]);