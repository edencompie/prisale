<ion-view>
    <ion-content scroll="true" padding="false" class="has-footer products">
        <div class="row top-tabs">
            <div class="col"><img src="img/icon/basket.png"><br />סל מוצרים</div>
            <div class="col" on-tap="showDetailsPopup()"><img src="img/icon/details.png"><br />הוספת נתונים</div>
            <div class="col" on-tap="showFilterPopup()"><img src="img/icon/filter.png"><br />סינון ומיון</div>
        </div>
        <ion-list class="list-container" ng-class="viewClassName">
            <div class="fruit-wrapper" ng-repeat="item in items | filter:hideProductsWithoutPrice">
                <div class="fruit-item">
                    <div ng-class="itemChecked(item)" on-tap="itemClicked(item)"></div>
                    <div class="image" on-hold="itemClicked(item)">
                        <img ng-src="http://62.219.7.38/items/{{item.PicNum}}.png" onerror="this.onerror='';this.src='img/logo.png'">
                    </div>
                    <h4 on-hold="itemClicked(item)">{{item.name}}</h4>
                    <div class="price">
                        <table>
                            <tr><td>מחיר סוג א'</td><td style="min-width: 40px">{{primeQualityPrice(item)}}</td></tr>
                            <tr><td>מחיר מובחר</td><td style="min-width: 40px">{{topQualityPrice(item)}}</td></tr>
                        </table>
                        <table ng-if="listDetails == 'avgPrice'">
                            <tr><td>מחיר ממוצע סוג א'</td><td style="min-width: 40px">{{primeQualityAvgPrice(item)}}</td></tr>
                            <tr><td>מחיר ממוצע מובחר</td><td style="min-width: 40px">{{topQualityAvgPrice(item)}}</td></tr>
                        </table>
                        <table ng-if="listDetails == 'percentChange'">
                            <tr><td>אחוז שינוי סוג א'</td><td style="min-width: 40px">{{primeQualityPercentChange(item)}}</td></tr>
                            <tr><td>אחוז שינוי מובחר</td><td style="min-width: 40px">{{topQualityPercentChange(item)}}</td></tr>
                        </table>
                    </div>
                    <div class="buttons">
                        <span class="push-percent" on-tap="showPushNotificationPopup(item)">{{item.percent}}<small ng-if="item.percent">%</small></span>
                        <img src="img/item-push.png" style="float:right;" on-tap="showPushNotificationPopup(item)">
                        <img src="img/item-share.png" style="float:left;" on-tap="shareProduct(item)">
                    </div>
                </div>
            </div>
        </ion-list>
        <ion-infinite-scroll class="ispinner"
                ng-if="moreDataCanBeLoaded()"
                on-infinite="loadMore()"
                distance="25%">
        </ion-infinite-scroll>
    </ion-content>
</ion-view>
